{% extends "base.html" %}

{% block content %}
<style>
    .balance-container {
        max-width: 450px;
        margin: 0 auto;
    }

    .balance-card {
        background: var(--white);
        border-radius: var(--radius-xl);
        padding: 2.5rem;
        box-shadow: var(--shadow-lg);
    }

    .balance-header {
        text-align: center;
        margin-bottom: 2rem;
    }

    .balance-header .icon {
        font-size: 3rem;
        margin-bottom: 1rem;
    }

    .balance-header h1 {
        font-size: 1.75rem;
        font-weight: 700;
        color: var(--gray-900);
        margin-bottom: 0.5rem;
    }

    .balance-header p {
        color: var(--gray-500);
    }

    .amount-presets {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 0.75rem;
        margin-bottom: 1.5rem;
    }

    .preset-btn {
        padding: 0.75rem;
        border: 2px solid var(--gray-200);
        border-radius: var(--radius);
        background: var(--white);
        color: var(--gray-700);
        font-weight: 600;
        cursor: pointer;
        transition: var(--transition);
    }

    .preset-btn:hover {
        border-color: var(--primary);
        color: var(--primary);
    }

    .preset-btn.active {
        border-color: var(--primary);
        background: rgba(99, 102, 241, 0.1);
        color: var(--primary);
    }

    .secure-notice {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        margin-top: 1.5rem;
        color: var(--gray-500);
        font-size: 0.85rem;
    }

    .secure-notice::before {
        content: 'ðŸ”’';
    }
</style>

<div class="balance-container">
    <div class="balance-card">
        <div class="balance-header">
            <div class="icon">ðŸ’³</div>
            <h1>Add Balance</h1>
            <p>Top up your wallet to book your trips</p>
        </div>

        <form action="{% url 'booking-add_balance' %}" method="post">
            {% csrf_token %}

            {% if error %}
            <div class="alert alert-error mb-3">
                {{ error }}
            </div>
            {% endif %}

            <div class="amount-presets">
                <button type="button" class="preset-btn" onclick="setAmount(100)">â‚¹100</button>
                <button type="button" class="preset-btn" onclick="setAmount(500)">â‚¹500</button>
                <button type="button" class="preset-btn" onclick="setAmount(1000)">â‚¹1000</button>
            </div>

            <div class="form-group">
                <label class="form-label">Enter Amount</label>
                <input type="number" id="amount" name="amount" class="form-input" placeholder="Enter custom amount" min="1" required>
            </div>

            <button type="submit" class="btn btn-success btn-lg btn-block">
                Add to Wallet
            </button>

            <p class="secure-notice">Your payment is secure and encrypted</p>
        </form>
    </div>
</div>

<script>
    function setAmount(value) {
        document.getElementById('amount').value = value;
        document.querySelectorAll('.preset-btn').forEach(btn => btn.classList.remove('active'));
        event.target.classList.add('active');
    }
</script>
{% endblock %}